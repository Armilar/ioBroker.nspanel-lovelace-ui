{
  "version": 3,
  "sources": ["../../../src/lib/const/tools.ts"],
  "sourcesContent": ["import { Dataitem } from '../classes/data-item';\nimport { ChangeTypeOfPageItem, IconEntryType, TextEntryType, ValueEntryType } from '../types/pageItem';\nimport { ChangeTypeOfKeys } from './definition';\nimport { Library } from '../classes/library';\n\nexport async function getValueEntryNumber(\n    i: ChangeTypeOfKeys<ValueEntryType, Dataitem | undefined>,\n): Promise<number | null> {\n    if (!i) return null;\n    const nval = i.value && (await i.value.getNumber());\n    if (nval !== null && nval !== undefined) {\n        return nval * ((i.factor && (await i.factor.getNumber())) ?? 1);\n    }\n    return null;\n}\n\nexport async function getIconEntryValue(\n    i: ChangeTypeOfPageItem<IconEntryType, Dataitem | undefined>,\n    on: boolean,\n    def: string,\n): Promise<string> {\n    if (!i) return def;\n    const icon = i.true.value && (await i.true.value.getString());\n    if (!on) {\n        return (i.false.value && (await i.false.value.getString())) ?? icon ?? def;\n    }\n    return icon ?? def;\n}\nexport async function getIconEntryColor(\n    i: ChangeTypeOfPageItem<IconEntryType, Dataitem | undefined>,\n    on: boolean,\n    def: string,\n): Promise<string> {\n    if (!i) return def;\n    const icon = i.true.color && (await i.true.color.getRGBDec());\n    if (!on) {\n        return (i.false.color && (await i.false.color.getRGBDec())) ?? icon ?? def;\n    }\n    return icon ?? def;\n}\nexport async function getValueEntryTextOnOff(\n    i: ChangeTypeOfKeys<TextEntryType, Dataitem | undefined> | undefined,\n    on: boolean,\n): Promise<string | null> {\n    if (!i) return null;\n    const value = i.true && (await i.true.getString());\n    if (!on) {\n        return (i.false && (await i.false.getString())) ?? value ?? null;\n    }\n    return value ?? null;\n}\n\nexport async function getValueEntryBoolean(\n    i: ChangeTypeOfKeys<ValueEntryType, Dataitem | undefined> | undefined,\n): Promise<boolean | null> {\n    if (!i) return null;\n    const nval = i.value && (await i.value.getBoolean());\n    if (nval !== undefined) {\n        return nval;\n    }\n    return null;\n}\n\nexport async function getValueEntryString(\n    i: ChangeTypeOfKeys<ValueEntryType, Dataitem | undefined> | undefined,\n): Promise<string | null> {\n    if (!i || !i.value) return null;\n    const nval = await i.value.getNumber();\n    if (nval !== null && nval !== undefined) {\n        const res = nval * ((i.factor && (await i.factor.getNumber())) ?? 1);\n\n        const d = i.decimal && (await i.decimal.getNumber());\n        let result: string = String(res);\n        if (d || d === 0) {\n            result = res.toFixed(d);\n        }\n        return result + ((i.unit && (await i.unit.getString())) ?? '');\n    }\n    const res = await i.value.getString();\n    if (res != null) res + ((i.unit && (await i.unit.getString())) ?? '');\n    return res;\n}\n\nexport function getTranslation(library: Library, key1: any | string, key2?: string): string {\n    let result = key2 ?? key1;\n    if (key2 !== undefined) {\n        result = library.getLocalTranslation(key1, key2);\n    }\n    result = library.getTranslation(result || key1);\n    return result;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,eAAsB,oBAClB,GACsB;AAP1B;AAQI,MAAI,CAAC;AAAG,WAAO;AACf,QAAM,OAAO,EAAE,SAAU,MAAM,EAAE,MAAM,UAAU;AACjD,MAAI,SAAS,QAAQ,SAAS,QAAW;AACrC,WAAO,SAAS,OAAE,UAAW,MAAM,EAAE,OAAO,UAAU,MAAtC,YAA6C;AAAA,EACjE;AACA,SAAO;AACX;AAEA,eAAsB,kBAClB,GACA,IACA,KACe;AApBnB;AAqBI,MAAI,CAAC;AAAG,WAAO;AACf,QAAM,OAAO,EAAE,KAAK,SAAU,MAAM,EAAE,KAAK,MAAM,UAAU;AAC3D,MAAI,CAAC,IAAI;AACL,YAAQ,aAAE,MAAM,SAAU,MAAM,EAAE,MAAM,MAAM,UAAU,MAAhD,YAAuD,SAAvD,YAA+D;AAAA,EAC3E;AACA,SAAO,sBAAQ;AACnB;AACA,eAAsB,kBAClB,GACA,IACA,KACe;AAhCnB;AAiCI,MAAI,CAAC;AAAG,WAAO;AACf,QAAM,OAAO,EAAE,KAAK,SAAU,MAAM,EAAE,KAAK,MAAM,UAAU;AAC3D,MAAI,CAAC,IAAI;AACL,YAAQ,aAAE,MAAM,SAAU,MAAM,EAAE,MAAM,MAAM,UAAU,MAAhD,YAAuD,SAAvD,YAA+D;AAAA,EAC3E;AACA,SAAO,sBAAQ;AACnB;AACA,eAAsB,uBAClB,GACA,IACsB;AA3C1B;AA4CI,MAAI,CAAC;AAAG,WAAO;AACf,QAAM,QAAQ,EAAE,QAAS,MAAM,EAAE,KAAK,UAAU;AAChD,MAAI,CAAC,IAAI;AACL,YAAQ,aAAE,SAAU,MAAM,EAAE,MAAM,UAAU,MAApC,YAA2C,UAA3C,YAAoD;AAAA,EAChE;AACA,SAAO,wBAAS;AACpB;AAEA,eAAsB,qBAClB,GACuB;AACvB,MAAI,CAAC;AAAG,WAAO;AACf,QAAM,OAAO,EAAE,SAAU,MAAM,EAAE,MAAM,WAAW;AAClD,MAAI,SAAS,QAAW;AACpB,WAAO;AAAA,EACX;AACA,SAAO;AACX;AAEA,eAAsB,oBAClB,GACsB;AAjE1B;AAkEI,MAAI,CAAC,KAAK,CAAC,EAAE;AAAO,WAAO;AAC3B,QAAM,OAAO,MAAM,EAAE,MAAM,UAAU;AACrC,MAAI,SAAS,QAAQ,SAAS,QAAW;AACrC,UAAMA,OAAM,SAAS,OAAE,UAAW,MAAM,EAAE,OAAO,UAAU,MAAtC,YAA6C;AAElE,UAAM,IAAI,EAAE,WAAY,MAAM,EAAE,QAAQ,UAAU;AAClD,QAAI,SAAiB,OAAOA,IAAG;AAC/B,QAAI,KAAK,MAAM,GAAG;AACd,eAASA,KAAI,QAAQ,CAAC;AAAA,IAC1B;AACA,WAAO,WAAW,OAAE,QAAS,MAAM,EAAE,KAAK,UAAU,MAAlC,YAAyC;AAAA,EAC/D;AACA,QAAM,MAAM,MAAM,EAAE,MAAM,UAAU;AACpC,MAAI,OAAO;AAAM,YAAQ,OAAE,QAAS,MAAM,EAAE,KAAK,UAAU,MAAlC,YAAyC;AAClE,SAAO;AACX;AAEO,SAAS,eAAe,SAAkB,MAAoB,MAAuB;AACxF,MAAI,SAAS,sBAAQ;AACrB,MAAI,SAAS,QAAW;AACpB,aAAS,QAAQ,oBAAoB,MAAM,IAAI;AAAA,EACnD;AACA,WAAS,QAAQ,eAAe,UAAU,IAAI;AAC9C,SAAO;AACX;",
  "names": ["res"]
}
